---
title: "å®˜æ–¹ Java SDK"
description: "Z.ai Java SDK æ¦‚è¿°ä¸ä»‹ç»"
---

<Info>
Z.ai Java SDK æ˜¯æ™ºè°±AIå®˜æ–¹æä¾›çš„Javaå¼€å‘å·¥å…·åŒ…ï¼Œä¸ºJavaå¼€å‘è€…æä¾›ä¾¿æ·ã€é«˜æ•ˆçš„AIæ¨¡å‹é›†æˆæ–¹æ¡ˆã€‚
</Info>

## ä»€ä¹ˆæ˜¯ Z.ai Java SDK

Z.ai Java SDK æ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§ã€æ˜“äºä½¿ç”¨çš„Javaå¼€å‘å·¥å…·åŒ…ï¼Œä¸“ä¸ºä¸æ™ºè°±AIçš„å„ç§äººå·¥æ™ºèƒ½æ¨¡å‹è¿›è¡Œäº¤äº’è€Œè®¾è®¡ã€‚æ— è®ºæ‚¨æ˜¯è¦æ„å»ºä¼ä¸šçº§AIåº”ç”¨ã€æ™ºèƒ½å®¢æœç³»ç»Ÿï¼Œè¿˜æ˜¯éœ€è¦åœ¨ç°æœ‰Javaåº”ç”¨ä¸­é›†æˆAIåŠŸèƒ½ï¼Œæˆ‘ä»¬çš„SDKéƒ½èƒ½ä¸ºæ‚¨æä¾›å®Œæ•´çš„è§£å†³æ–¹æ¡ˆã€‚

### æ ¸å¿ƒä¼˜åŠ¿

<CardGroup cols={2}>
  <Card title="ä¼ä¸šçº§" icon="building">
    ä¸“ä¸ºä¼ä¸šåº”ç”¨è®¾è®¡ï¼Œæ”¯æŒé«˜å¹¶å‘ã€é«˜å¯ç”¨æ€§
  </Card>
  <Card title="æ˜“äºé›†æˆ" icon="plug">
    ç®€æ´çš„APIè®¾è®¡ï¼Œå®Œå–„çš„æ–‡æ¡£ï¼Œå¿«é€Ÿé›†æˆåˆ°ç°æœ‰é¡¹ç›®
  </Card>
  <Card title="ç±»å‹å®‰å…¨" icon="shield-check">
    å®Œæ•´çš„ç±»å‹å®šä¹‰ï¼Œç¼–è¯‘æ—¶é”™è¯¯æ£€æŸ¥ï¼Œå‡å°‘è¿è¡Œæ—¶é”™è¯¯
  </Card>
  <Card title="é«˜æ€§èƒ½" icon="gauge-high">
    ä¼˜åŒ–çš„ç½‘ç»œè¯·æ±‚å¤„ç†ï¼Œæ”¯æŒè¿æ¥æ± å’Œå¼‚æ­¥è°ƒç”¨
  </Card>
</CardGroup>

### æ”¯æŒçš„åŠŸèƒ½

- **ğŸ’¬ å¯¹è¯èŠå¤©**ï¼šæ”¯æŒå•è½®å’Œå¤šè½®å¯¹è¯ï¼Œæµå¼å’Œéæµå¼å“åº”
- **ğŸ”§ å‡½æ•°è°ƒç”¨**ï¼šè®©AIæ¨¡å‹è°ƒç”¨æ‚¨çš„è‡ªå®šä¹‰å‡½æ•°
- **ğŸ‘ï¸ è§†è§‰ç†è§£**ï¼šå›¾åƒåˆ†æã€OCRã€è§†è§‰é—®ç­”
- **ğŸ¨ å›¾åƒç”Ÿæˆ**ï¼šæ ¹æ®æ–‡æœ¬æè¿°ç”Ÿæˆé«˜è´¨é‡å›¾åƒ
- **ğŸ¬ è§†é¢‘ç”Ÿæˆ**ï¼šæ–‡æœ¬åˆ°è§†é¢‘çš„åˆ›æ„å†…å®¹ç”Ÿæˆ
- **ğŸ”Š è¯­éŸ³å¤„ç†**ï¼šè¯­éŸ³è½¬æ–‡å­—ã€æ–‡å­—è½¬è¯­éŸ³
- **ğŸ“Š æ–‡æœ¬åµŒå…¥**ï¼šæ–‡æœ¬å‘é‡åŒ–ï¼Œæ”¯æŒè¯­ä¹‰æœç´¢
- **ğŸ¤– æ™ºèƒ½åŠ©æ‰‹**ï¼šæ„å»ºä¸“ä¸šçš„AIåŠ©æ‰‹åº”ç”¨
- **ğŸ“š çŸ¥è¯†åº“ç®¡ç†**ï¼šæ–‡æ¡£ä¸Šä¼ ã€æ£€ç´¢ã€é—®ç­”
- **ğŸ›¡ï¸ å†…å®¹å®¡æ ¸**ï¼šæ–‡æœ¬å’Œå›¾åƒå†…å®¹å®‰å…¨æ£€æµ‹

### æ”¯æŒçš„æ¨¡å‹

<Tabs>
  <Tab title="è¯­è¨€æ¨¡å‹">
    - **GLM-4-Plus**ï¼šæœ€å¼ºå¤§çš„è¯­è¨€ç†è§£å’Œç”Ÿæˆæ¨¡å‹
    - **GLM-4-Air**ï¼šå¹³è¡¡æ€§èƒ½å’Œæˆæœ¬çš„é€šç”¨æ¨¡å‹
    - **GLM-4-Flash**ï¼šå¿«é€Ÿå“åº”çš„è½»é‡çº§æ¨¡å‹
    - **GLM-4-Long**ï¼šæ”¯æŒè¶…é•¿ä¸Šä¸‹æ–‡çš„æ¨¡å‹
  </Tab>
  <Tab title="å¤šæ¨¡æ€æ¨¡å‹">
    - **GLM-4V-Plus**ï¼šå¼ºå¤§çš„è§†è§‰ç†è§£æ¨¡å‹
    - **GLM-4V**ï¼šé€šç”¨è§†è§‰ç†è§£æ¨¡å‹
    - **GLM-4-Voice**ï¼šè¯­éŸ³äº¤äº’æ¨¡å‹
  </Tab>
  <Tab title="ç”Ÿæˆæ¨¡å‹">
    - **CogView-3**ï¼šé«˜è´¨é‡å›¾åƒç”Ÿæˆ
    - **CogVideoX**ï¼šè§†é¢‘å†…å®¹ç”Ÿæˆ
    - **Embedding-2**ï¼šæ–‡æœ¬å‘é‡åŒ–æ¨¡å‹
  </Tab>
</Tabs>

## æŠ€æœ¯è§„æ ¼

### ç¯å¢ƒè¦æ±‚

- **Javaç‰ˆæœ¬**ï¼šJava 1.8 æˆ–æ›´é«˜ç‰ˆæœ¬
- **æ„å»ºå·¥å…·**ï¼šMaven 3.6+ æˆ– Gradle 6.0+
- **ç½‘ç»œè¦æ±‚**ï¼šæ”¯æŒHTTPSè¿æ¥
- **APIå¯†é’¥**ï¼šéœ€è¦æœ‰æ•ˆçš„æ™ºè°±AI APIå¯†é’¥

### ä¾èµ–ç®¡ç†

SDKé‡‡ç”¨æ¨¡å—åŒ–è®¾è®¡ï¼Œæ‚¨å¯ä»¥æ ¹æ®éœ€è¦é€‰æ‹©æ€§å¼•å…¥åŠŸèƒ½æ¨¡å—ï¼š

- **æ ¸å¿ƒæ¨¡å—**ï¼šåŸºç¡€APIè°ƒç”¨åŠŸèƒ½
- **å¼‚æ­¥æ¨¡å—**ï¼šå¼‚æ­¥å’Œå¹¶å‘å¤„ç†æ”¯æŒ
- **å·¥å…·æ¨¡å—**ï¼šå®ç”¨å·¥å…·å’Œè¾…åŠ©åŠŸèƒ½

## å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

<CardGroup cols={2}>
  <Card title="Java ç‰ˆæœ¬" icon="coffee">
    Java 1.8 æˆ–æ›´é«˜ç‰ˆæœ¬
  </Card>
  <Card title="æ„å»ºå·¥å…·" icon="hammer">
    Maven 3.6+ æˆ– Gradle 6.0+
  </Card>
</CardGroup>

<Warning>
æ”¯æŒ Java 8, 11, 17, 21 ç‰ˆæœ¬ï¼Œè·¨å¹³å°å…¼å®¹ Windowsã€macOSã€Linux
</Warning>

### æ·»åŠ ä¾èµ–

<Tabs>
  <Tab title="Maven">
    
```xml
<dependency>
    <groupId>ai.z.openapi</groupId>
    <artifactId>zai-sdk</artifactId>
    <version>0.0.1</version>
</dependency>
```

  </Tab>
  <Tab title="Gradle">
    
```gradle
implementation 'ai.z:zai-sdk:0.0.1'
```

  </Tab>
  <Tab title="Gradle (Kotlin DSL)">
    
```kotlin
implementation("ai.z:zai-sdk:0.0.1")
```

  </Tab>
</Tabs>

### è·å– API Key

1. è®¿é—® [Zæ™ºè°±å¼€æ”¾å¹³å°](https://bigmodel.cn)
2. æ³¨å†Œå¹¶ç™»å½•æ‚¨çš„è´¦æˆ·
3. åœ¨æ§åˆ¶å°ä¸­åˆ›å»º API Key
4. å¤åˆ¶æ‚¨çš„ API Key ä»¥ä¾›ä½¿ç”¨

<Tip>
å»ºè®®å°† API Key è®¾ç½®ä¸ºç¯å¢ƒå˜é‡ï¼š`export ZAI_API_KEY=your-api-key`
</Tip>

### ç¬¬ä¸€ä¸ªç¤ºä¾‹

#### åˆ›å»ºå®¢æˆ·ç«¯

<Tabs>
  <Tab title="ç¯å¢ƒå˜é‡">
    
```java
import ai.z.openapi.ZaiClient;

public class QuickStart {
    public static void main(String[] args) {
        // ä»ç¯å¢ƒå˜é‡è¯»å– API Key
        ZaiClient client = ZaiClient.builder().ofZHIPU()
            .apiKey(System.getenv("ZAI_API_KEY"))
            .build();
        
        // æˆ–è€…ç›´æ¥ä½¿ç”¨ï¼ˆå¦‚æœå·²è®¾ç½®ç¯å¢ƒå˜é‡ï¼‰
        ZaiClient client2 = ZaiClient.builder().ofZHIPU().build();
    }
}
```

  </Tab>
  <Tab title="ç›´æ¥è®¾ç½®">
    
```java
import ai.z.openapi.ZaiClient;

public class QuickStart {
    public static void main(String[] args) {
        // ç›´æ¥è®¾ç½® API Key
        ZaiClient client = ZaiClient.builder().ofZHIPU()
            .apiKey("YOUR_API_KEY")
            .build();
    }
}
```

  </Tab>
</Tabs>

#### åŸºç¡€å¯¹è¯

```java
import ai.z.openapi.ZaiClient;
import ai.z.openapi.service.model.*;
import ai.z.openapi.core.Constants;
import java.util.Arrays;

public class BasicChat {
    public static void main(String[] args) {
        // åˆå§‹åŒ–å®¢æˆ·ç«¯
        ZaiClient client = ZaiClient.builder().ofZHIPU()
            .apiKey("YOUR_API_KEY")
            .build();
        
        // åˆ›å»ºèŠå¤©å®Œæˆè¯·æ±‚
        ChatCompletionCreateParams request = ChatCompletionCreateParams.builder()
            .model(Constants.ModelChatGLM4)
            .messages(Arrays.asList(
                ChatMessage.builder()
                    .role(ChatMessageRole.USER.value())
                    .content("ä½ å¥½ï¼Œè¯·ä»‹ç»ä¸€ä¸‹è‡ªå·±")
                    .build()
            ))
            .build();
        
        // å‘é€è¯·æ±‚
        ChatCompletionResponse response = client.chat().createChatCompletion(request);
        
        // è·å–å›å¤
        if (response.isSuccess()) {
            String reply = response.getData().getChoices().get(0).getMessage().getContent();
            System.out.println("AIå›å¤: " + reply);
        } else {
            System.err.println("é”™è¯¯: " + response.getMsg());
        }
    }
}
```

#### æµå¼å¯¹è¯

```java
import ai.z.openapi.ZaiClient;
import ai.z.openapi.service.model.*;
import ai.z.openapi.core.Constants;
import java.util.Arrays;

public class StreamingChat {
    public static void main(String[] args) {
        ZaiClient client = ZaiClient.builder().ofZHIPU()
            .apiKey("YOUR_API_KEY")
            .build();
        
        // åˆ›å»ºæµå¼èŠå¤©è¯·æ±‚
        ChatCompletionCreateParams request = ChatCompletionCreateParams.builder()
            .model(Constants.ModelChatGLM4)
            .messages(Arrays.asList(
                ChatMessage.builder()
                    .role(ChatMessageRole.USER.value())
                    .content("å†™ä¸€é¦–å…³äºæ˜¥å¤©çš„è¯—")
                    .build()
            ))
            .stream(true)
            .build();
        
        // å¤„ç†æµå¼å“åº”
        ChatCompletionResponse response = client.chat().createChatCompletion(request);
        
        if (response.isSuccess() && response.getFlowable() != null) {
            response.getFlowable().subscribe(
                data -> {
                    // å¤„ç†æµå¼æ•°æ®å—
                    if (data.getChoices() != null && !data.getChoices().isEmpty()) {
                        String content = data.getChoices().get(0).getDelta().getContent();
                        if (content != null) {
                            System.out.print(content);
                        }
                    }
                },
                error -> System.err.println("\næµå¼é”™è¯¯: " + error.getMessage()),
                () -> System.out.println("\næµå¼å®Œæˆ")
            );
        }
        
        System.out.println(); // æ¢è¡Œ
    }
}
```

### å®Œæ•´ç¤ºä¾‹

```java
import ai.z.openapi.ZaiClient;
import ai.z.openapi.service.model.*;
import ai.z.openapi.core.Constants;
import java.util.*;

public class ChatBot {
    private final ZaiClient client;
    private final List<ChatMessage> conversation;
    
    public ChatBot(String apiKey) {
        this.client = ZaiClient.builder().ofZHIPU()
            .apiKey(apiKey)
            .build();
        this.conversation = new ArrayList<>();
        // æ·»åŠ ç³»ç»Ÿæ¶ˆæ¯
        this.conversation.add(ChatMessage.builder()
            .role(ChatMessageRole.SYSTEM.value())
            .content("ä½ æ˜¯ä¸€ä¸ªå‹å¥½çš„AIåŠ©æ‰‹")
            .build());
    }
    
    public String chat(String userInput) {
        try {
            // æ·»åŠ ç”¨æˆ·æ¶ˆæ¯
            conversation.add(ChatMessage.builder()
                .role(ChatMessageRole.USER.value())
                .content(userInput)
                .build());
            
            // åˆ›å»ºè¯·æ±‚
            ChatCompletionCreateParams request = ChatCompletionCreateParams.builder()
                .model(Constants.ModelChatGLM4)
                .messages(conversation)
                .temperature(0.7f)
                .maxTokens(1000)
                .build();
            
            // å‘é€è¯·æ±‚
            ChatCompletionResponse response = client.chat().createChatCompletion(request);
            
            if (response.isSuccess()) {
                // è·å–AIå›å¤
                String aiResponse = response.getData().getChoices().get(0).getMessage().getContent();
                
                // æ·»åŠ AIå›å¤åˆ°å¯¹è¯å†å²
                conversation.add(ChatMessage.builder()
                    .role(ChatMessageRole.ASSISTANT.value())
                    .content(aiResponse)
                    .build());
                
                return aiResponse;
            } else {
                return "å‘ç”Ÿé”™è¯¯: " + response.getMsg();
            }
            
        } catch (Exception e) {
            return "å‘ç”Ÿé”™è¯¯: " + e.getMessage();
        }
    }
    
    public static void main(String[] args) {
        ChatBot bot = new ChatBot(System.getenv("ZAI_API_KEY"));
        Scanner scanner = new Scanner(System.in);
        
        System.out.println("æ¬¢è¿ä½¿ç”¨ Z.ai èŠå¤©æœºå™¨äººï¼è¾“å…¥ 'quit' é€€å‡ºã€‚");
        
        while (true) {
            System.out.print("æ‚¨: ");
            String input = scanner.nextLine();
            
            if ("quit".equalsIgnoreCase(input)) {
                break;
            }
            
            String response = bot.chat(input);
            System.out.println("AI: " + response);
        }
        
        System.out.println("å†è§ï¼");
        scanner.close();
    }
}
```

## é«˜çº§åŠŸèƒ½

### å‡½æ•°è°ƒç”¨ (Function Calling)

å‡½æ•°è°ƒç”¨å…è®¸ AI æ¨¡å‹è°ƒç”¨æ‚¨å®šä¹‰çš„å‡½æ•°æ¥è·å–å®æ—¶ä¿¡æ¯æˆ–æ‰§è¡Œç‰¹å®šæ“ä½œã€‚

#### å®šä¹‰å’Œä½¿ç”¨å‡½æ•°

```java
import ai.z.openapi.ZaiClient;
import ai.z.openapi.service.model.*;
import ai.z.openapi.core.Constants;
import java.util.*;

public class FunctionCallingExample {
    
    // æ¨¡æ‹Ÿå¤©æ°”API
    public static Map<String, Object> getWeather(String location, String date) {
        Map<String, Object> weather = new HashMap<>();
        weather.put("location", location);
        weather.put("date", date != null ? date : "ä»Šå¤©");
        weather.put("weather", "æ™´å¤©");
        weather.put("temperature", "25Â°C");
        weather.put("humidity", "60%");
        return weather;
    }
    
    // æ¨¡æ‹Ÿè‚¡ç¥¨API
    public static Map<String, Object> getStockPrice(String symbol) {
        Map<String, Object> stock = new HashMap<>();
        stock.put("symbol", symbol);
        stock.put("price", 150.25);
        stock.put("change", "+2.5%");
        return stock;
    }
    
    public static void main(String[] args) {
        ZaiClient client = ZaiClient.builder().ofZHIPU()
            .apiKey(System.getenv("ZAI_API_KEY"))
            .build();
        
        // å®šä¹‰å‡½æ•°å·¥å…·
        ChatTool weatherTool = ChatTool.builder()
            .type(ChatToolType.FUNCTION.value())
            .function(ChatFunction.builder()
                .name("get_weather")
                .description("è·å–æŒ‡å®šåœ°ç‚¹çš„å¤©æ°”ä¿¡æ¯")
                .parameters(ChatFunctionParameters.builder()
                    .type("object")
                    .properties(Map.of(
                        "location", Map.of(
                            "type", "string",
                            "description", "åœ°ç‚¹åç§°"
                        ),
                        "date", Map.of(
                            "type", "string",
                            "description", "æ—¥æœŸï¼Œæ ¼å¼ä¸ºYYYY-MM-DD"
                        )
                    ))
                    .required(Arrays.asList("location"))
                    .build())
                .build())
            .build();
        
        // åˆ›å»ºè¯·æ±‚
        ChatCompletionCreateParams request = ChatCompletionCreateParams.builder()
            .model(Constants.ModelChatGLM4)
            .messages(Arrays.asList(
                ChatMessage.builder()
                    .role(ChatMessageRole.USER.value())
                    .content("åŒ—äº¬ä»Šå¤©å¤©æ°”æ€ä¹ˆæ ·ï¼Ÿ")
                    .build()
            ))
            .tools(Arrays.asList(weatherTool))
            .toolChoice("auto")
            .build();
        
        // å‘é€è¯·æ±‚
        ChatCompletionResponse response = client.chat().createChatCompletion(request);
        
        if (response.isSuccess()) {
            // å¤„ç†å‡½æ•°è°ƒç”¨
            ChatMessage assistantMessage = response.getData().getChoices().get(0).getMessage();
            if (assistantMessage.getToolCalls() != null && !assistantMessage.getToolCalls().isEmpty()) {
                for (ChatToolCall toolCall : assistantMessage.getToolCalls()) {
                    String functionName = toolCall.getFunction().getName();
                    
                    if ("get_weather".equals(functionName)) {
                        Map<String, Object> result = getWeather("åŒ—äº¬", null);
                        System.out.println("å¤©æ°”ä¿¡æ¯: " + result);
                    }
                }
            } else {
                System.out.println(assistantMessage.getContent());
            }
        } else {
            System.err.println("é”™è¯¯: " + response.getMsg());
        }
    }
}
```

### å¤šæ¨¡æ€å¤„ç†

#### å›¾åƒç†è§£

```java
import ai.z.openapi.ZaiClient;
import ai.z.openapi.service.model.*;
import ai.z.openapi.core.Constants;
import java.util.*;
import java.nio.file.Files;
import java.nio.file.Paths;
import java.util.Base64;

public class ImageUnderstanding {
    public static void main(String[] args) throws Exception {
        ZaiClient client = ZaiClient.builder().ofZHIPU()
            .apiKey(System.getenv("ZAI_API_KEY"))
            .build();
        
        // æ–¹å¼1ï¼šä½¿ç”¨å›¾åƒURL
        ChatCompletionCreateParams request1 = ChatCompletionCreateParams.builder()
            .model(Constants.ModelChatGLM4V)
            .messages(Arrays.asList(
                ChatMessage.builder()
                    .role(ChatMessageRole.USER.value())
                    .content("è¿™å¼ å›¾ç‰‡é‡Œæœ‰ä»€ä¹ˆï¼Ÿè¯·è¯¦ç»†æè¿°ã€‚")
                    .build()
            ))
            .build();
        
        ChatCompletionResponse response1 = client.chat().createChatCompletion(request1);
        if (response1.isSuccess()) {
            System.out.println(response1.getData().getChoices().get(0).getMessage().getContent());
        }
        
        // æ–¹å¼2ï¼šä½¿ç”¨base64ç¼–ç çš„å›¾åƒ
        byte[] imageBytes = Files.readAllBytes(Paths.get("path/to/your/image.jpg"));
        String base64Image = Base64.getEncoder().encodeToString(imageBytes);
        
        ChatCompletionCreateParams request2 = ChatCompletionCreateParams.builder()
            .model(Constants.ModelChatGLM4V)
            .messages(Arrays.asList(
                ChatMessage.builder()
                    .role(ChatMessageRole.USER.value())
                    .content("åˆ†æè¿™å¼ å›¾ç‰‡ä¸­çš„å†…å®¹")
                    .build()
            ))
            .build();
        
        ChatCompletionResponse response2 = client.chat().createChatCompletion(request2);
        if (response2.isSuccess()) {
            System.out.println(response2.getData().getChoices().get(0).getMessage().getContent());
        }
    }
}
```

#### å›¾åƒç”Ÿæˆ

```java
import ai.z.openapi.ZaiClient;
import ai.z.openapi.service.model.*;
import ai.z.openapi.core.Constants;

public class ImageGeneration {
    public static void main(String[] args) {
        ZaiClient client = ZaiClient.builder().ofZHIPU()
            .apiKey(System.getenv("ZAI_API_KEY"))
            .build();
        
        // å›¾åƒç”Ÿæˆ
        ImageCreateParams request = ImageCreateParams.builder()
            .model(Constants.ModelCogView3)
            .prompt("ä¸€å¹…ç¾ä¸½çš„å±±æ°´ç”»ï¼Œä¸­å›½ä¼ ç»Ÿé£æ ¼ï¼Œæ°´å¢¨ç”»")
            .size("1024x1024")
            .quality("standard")
            .n(1)
            .build();
        
        ImageResponse response = client.images().createImage(request);
        
        if (response.isSuccess()) {
            String imageUrl = response.getData().getData().get(0).getUrl();
            System.out.println("ç”Ÿæˆçš„å›¾åƒURL: " + imageUrl);
        }
    }
}
```

### æ–‡æœ¬åµŒå…¥

```java
import ai.z.openapi.ZaiClient;
import ai.z.openapi.service.model.*;
import ai.z.openapi.core.Constants;
import java.util.*;

public class TextEmbedding {
    public static void main(String[] args) {
        ZaiClient client = ZaiClient.builder().ofZHIPU()
            .apiKey(System.getenv("ZAI_API_KEY"))
            .build();
        
        // åŸºç¡€æ–‡æœ¬åµŒå…¥
        EmbeddingCreateParams request = EmbeddingCreateParams.builder()
            .model(Constants.ModelEmbedding2)
            .input(Arrays.asList(
                "è¿™æ˜¯ç¬¬ä¸€æ®µæ–‡æœ¬",
                "è¿™æ˜¯ç¬¬äºŒæ®µæ–‡æœ¬",
                "è¿™æ˜¯ç¬¬ä¸‰æ®µæ–‡æœ¬"
            ))
            .build();
        
        EmbeddingResponse response = client.embeddings().createEmbedding(request);
        
        if (response.isSuccess()) {
            for (int i = 0; i < response.getData().getData().size(); i++) {
                EmbeddingData embedding = response.getData().getData().get(i);
                System.out.println("æ–‡æœ¬" + (i + 1) + "çš„åµŒå…¥å‘é‡ç»´åº¦: " + embedding.getEmbedding().size());
                System.out.println("å‰5ä¸ªç»´åº¦çš„å€¼: " + embedding.getEmbedding().subList(0, 5));
            }
        }
    }
}
```

### å¼‚æ­¥ç¼–ç¨‹

```java
import ai.z.openapi.ZaiClient;
import ai.z.openapi.service.model.*;
import ai.z.openapi.core.Constants;
import java.util.concurrent.CompletableFuture;
import java.util.concurrent.ExecutionException;
import java.util.*;

public class AsyncExample {
    public static void main(String[] args) throws ExecutionException, InterruptedException {
        ZaiClient client = ZaiClient.builder().ofZHIPU()
            .apiKey(System.getenv("ZAI_API_KEY"))
            .build();
        
        // å¼‚æ­¥èŠå¤©è¯·æ±‚
        ChatCompletionCreateParams request = ChatCompletionCreateParams.builder()
            .model(Constants.ModelChatGLM4)
            .messages(Arrays.asList(
                ChatMessage.builder()
                    .role(ChatMessageRole.USER.value())
                    .content("ä½ å¥½")
                    .build()
            ))
            .build();
        
        CompletableFuture<ChatCompletionResponse> future = 
            client.chat().createChatCompletionAsync(request);
        
        // å¼‚æ­¥å¤„ç†ç»“æœ
        future.thenAccept(response -> {
            if (response.isSuccess()) {
                String reply = response.getData().getChoices().get(0).getMessage().getContent();
                System.out.println("å¼‚æ­¥å›å¤: " + reply);
            }
        }).exceptionally(throwable -> {
            System.err.println("å¼‚æ­¥è¯·æ±‚å¤±è´¥: " + throwable.getMessage());
            return null;
        });
        
        // ç­‰å¾…å®Œæˆ
        future.get();
        
        // å¹¶å‘å¤„ç†å¤šä¸ªè¯·æ±‚
        List<String> questions = Arrays.asList(
            "ä»€ä¹ˆæ˜¯äººå·¥æ™ºèƒ½ï¼Ÿ",
            "Javaæœ‰ä»€ä¹ˆä¼˜åŠ¿ï¼Ÿ",
            "å¦‚ä½•å­¦ä¹ æœºå™¨å­¦ä¹ ï¼Ÿ"
        );
        
        List<CompletableFuture<ChatCompletionResponse>> futures = new ArrayList<>();
        
        for (String question : questions) {
            ChatCompletionCreateParams req = ChatCompletionCreateParams.builder()
                .model(Constants.ModelChatGLM4)
                .messages(Arrays.asList(
                    ChatMessage.builder()
                        .role(ChatMessageRole.USER.value())
                        .content(question)
                        .build()
                ))
                .build();
            
            futures.add(client.chat().createChatCompletionAsync(req));
        }
        
        // ç­‰å¾…æ‰€æœ‰è¯·æ±‚å®Œæˆ
        CompletableFuture<Void> allFutures = CompletableFuture.allOf(
            futures.toArray(new CompletableFuture[0])
        );
        
        allFutures.thenRun(() -> {
            for (int i = 0; i < futures.size(); i++) {
                try {
                    ChatCompletionResponse response = futures.get(i).get();
                    if (response.isSuccess()) {
                        String answer = response.getData().getChoices().get(0).getMessage().getContent();
                        System.out.println("é—®é¢˜" + (i + 1) + "çš„å›ç­”: " + answer);
                    }
                } catch (Exception e) {
                    System.err.println("è·å–å›ç­”å¤±è´¥: " + e.getMessage());
                }
            }
        }).get();
    }
}
```

## è·å–å¸®åŠ©

<CardGroup cols={2}>
  <Card title="GitHubä»“åº“" icon="github" href="https://github.com/THUDM/z-ai-sdk-java">
    æŸ¥çœ‹æºä»£ç ã€æäº¤é—®é¢˜ã€å‚ä¸è´¡çŒ®
  </Card>
  <Card title="API å‚è€ƒ" icon="book" href="/api-reference">
    æŸ¥çœ‹å®Œæ•´çš„ API æ–‡æ¡£
  </Card>
  <Card title="ç¤ºä¾‹é¡¹ç›®" icon="code" href="https://github.com/THUDM/z-ai-sdk-java/tree/main/samples">
    æµè§ˆæ›´å¤šå®é™…åº”ç”¨ç¤ºä¾‹
  </Card>
  <Card title="æœ€ä½³å®è·µ" icon="star" href="https://github.com/THUDM/z-ai-sdk-java">
    å­¦ä¹  SDK ä½¿ç”¨çš„æœ€ä½³å®è·µ
  </Card>
</CardGroup>

<Note>
æœ¬SDKåŸºäºæ™ºè°±AIæœ€æ–°çš„APIè§„èŒƒå¼€å‘ï¼Œç¡®ä¿ä¸å¹³å°åŠŸèƒ½ä¿æŒåŒæ­¥æ›´æ–°ã€‚å»ºè®®å®šæœŸæ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬ä»¥è·å¾—æœ€ä½³ä½“éªŒã€‚
</Note>